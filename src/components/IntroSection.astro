---
// Intro Section - Denqid Style with Floating Badges
---

<section class="intro-section">
  <div class="intro-container">
    <!-- Floating Badges: left (3) and right (3) columns with intro text in center -->
    <div class="badges-columns">
      <div class="badges-column left">
        <div class="badge-float badge-1" data-reveal-delay="0">
          <div class="badge-inner">
            <div class="badge-icon badge-icon-1">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 256 256"
              >
                <path
                  d="M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm88-29.84q.06-2.16,0-4.32l14.92-18.64a8,8,0,0,0,1.48-7.06,107.21,107.21,0,0,0-10.88-26.25,8,8,0,0,0-6-3.93l-23.72-2.64q-1.48-1.56-3-3L186,40.54a8,8,0,0,0-3.94-6,107.71,107.71,0,0,0-26.25-10.87,8,8,0,0,0-7.06,1.49L130.16,40Q128,40,125.84,40L107.2,25.11a8,8,0,0,0-7.06-1.48A107.6,107.6,0,0,0,73.89,34.51a8,8,0,0,0-3.93,6L67.32,64.27q-1.56,1.49-3,3L40.54,70a8,8,0,0,0-6,3.94,107.71,107.71,0,0,0-10.87,26.25,8,8,0,0,0,1.49,7.06L40,125.84Q40,128,40,130.16L25.11,148.8a8,8,0,0,0-1.48,7.06,107.21,107.21,0,0,0,10.88,26.25,8,8,0,0,0,6,3.93l23.72,2.64q1.49,1.56,3,3L70,215.46a8,8,0,0,0,3.94,6,107.71,107.71,0,0,0,26.25,10.87,8,8,0,0,0,7.06-1.49L125.84,216q2.16.06,4.32,0l18.64,14.92a8,8,0,0,0,7.06,1.48,107.21,107.21,0,0,0,26.25-10.88,8,8,0,0,0,3.93-6l2.64-23.72q1.56-1.48,3-3L215.46,186a8,8,0,0,0,6-3.94,107.71,107.71,0,0,0,10.87-26.25,8,8,0,0,0-1.49-7.06Zm-16.1-6.5a73.93,73.93,0,0,1,0,8.68,8,8,0,0,0,1.74,5.48l14.19,17.73a91.57,91.57,0,0,1-6.23,15L187,173.11a8,8,0,0,0-5.1,2.64,74.11,74.11,0,0,1-6.14,6.14,8,8,0,0,0-2.64,5.1l-2.51,22.58a91.32,91.32,0,0,1-15,6.23l-17.74-14.19a8,8,0,0,0-5-1.75h-.48a73.93,73.93,0,0,1-8.68,0,8,8,0,0,0-5.48,1.74L100.45,215.8a91.57,91.57,0,0,1-15-6.23L82.89,187a8,8,0,0,0-2.64-5.1,74.11,74.11,0,0,1-6.14-6.14,8,8,0,0,0-5.1-2.64L46.43,170.6a91.32,91.32,0,0,1-6.23-15l14.19-17.74a8,8,0,0,0,1.74-5.48,73.93,73.93,0,0,1,0-8.68,8,8,0,0,0-1.74-5.48L40.2,100.45a91.57,91.57,0,0,1,6.23-15L69,82.89a8,8,0,0,0,5.1-2.64,74.11,74.11,0,0,1,6.14-6.14A8,8,0,0,0,82.89,69L85.4,46.43a91.32,91.32,0,0,1,15-6.23l17.74,14.19a8,8,0,0,0,5.48,1.74,73.93,73.93,0,0,1,8.68,0,8,8,0,0,0,5.48-1.74L155.55,40.2a91.57,91.57,0,0,1,15,6.23L173.11,69a8,8,0,0,0,2.64,5.1,74.11,74.11,0,0,1,6.14,6.14,8,8,0,0,0,5.1,2.64l22.58,2.51a91.32,91.32,0,0,1,6.23,15l-14.19,17.74A8,8,0,0,0,199.87,123.66Z"
                ></path>
              </svg>
            </div>
            <p class="badge-text">Sistem Backend</p>
          </div>
        </div>

        <div class="badge-float badge-2" data-reveal-delay="0.1">
          <div class="badge-inner">
            <div class="badge-icon badge-icon-2">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 256 256"
              >
                <path
                  d="M220.27,158.54l-41.1,41.1A20,20,0,0,1,164.7,206H128a8,8,0,0,1,0-16h36.7a4,4,0,0,0,2.83-1.17l41.1-41.1a36,36,0,1,0-50.92-50.92L103.1,151.45A8,8,0,0,1,91.8,140.15l54.61-54.61a52,52,0,0,1,73.54,0A52,52,0,0,1,220.27,158.54ZM152.9,209.66a8,8,0,0,0-11.31,0L87,264.26a36,36,0,0,1-50.92-50.92l43.35-43.34A4,4,0,0,0,76.61,166H40a8,8,0,0,0,0,16H76.61l-36.93,36.92a52,52,0,0,0,73.54,0l54.61-54.61a8,8,0,0,0,.07-11.31Z"
                ></path>
              </svg>
            </div>
            <p class="badge-text">Desain API</p>
          </div>
        </div>

        <div class="badge-float badge-3" data-reveal-delay="0.2">
          <div class="badge-inner">
            <div class="badge-icon badge-icon-3">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 256 256"
              >
                <path
                  d="M200.77,53.89A103.27,103.27,0,0,0,128,24h-1.07A104,104,0,0,0,24,128c0,43,26.58,79.06,69.36,94.17A32,32,0,0,0,136,192a16,16,0,0,1,16-16h46.21a31.81,31.81,0,0,0,31.2-24.88,104.43,104.43,0,0,0,2.59-24A103.28,103.28,0,0,0,200.77,53.89Zm13,93.71A15.89,15.89,0,0,1,198.21,160H152a32,32,0,0,0-32,32,16,16,0,0,1-21.31,15.07C62.49,194.3,40,164,40,128a88,88,0,0,1,87.09-88h.9a88.35,88.35,0,0,1,88,87.25A88.86,88.86,0,0,1,213.81,147.6ZM140,76a12,12,0,1,1-12-12A12,12,0,0,1,140,76Zm-36,24a12,12,0,1,1-12-12A12,12,0,0,1,104,100Zm88,0a12,12,0,1,1-12-12A12,12,0,0,1,192,100Zm-36,40a12,12,0,1,1-12-12A12,12,0,0,1,156,140Z"
                ></path>
              </svg>
            </div>
            <p class="badge-text">Desain UI/UX</p>
          </div>
        </div>
      </div>

      <div class="intro-center">
        <!-- Section context label -->
        <p class="intro-context-label">Proporsi saya</p>

        <!-- keep the intro heading centered visually between badge columns -->
        <div class="intro-heading-wrapper">
          <h2 class="intro-heading" data-scroll-color-words data-start="0.7" data-finish="0.2">
            Saya menghadirkan solusi arsitektur sistem dari hulu ke hilir, memastikan integrasi
            teknologi termutakhir demi menciptakan aplikasi yang beroperasi dengan kohesi, andal,
            dan skalabel secara superior.
          </h2>
        </div>
      </div>

      <div class="badges-column right">
        <div class="badge-float badge-4" data-reveal-delay="0">
          <div class="badge-inner">
            <div class="badge-icon badge-icon-4">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 256 256"
              >
                <path
                  d="M152,224a8,8,0,0,1-8,8H112a8,8,0,0,1,0-16h32A8,8,0,0,1,152,224ZM128,112a12,12,0,1,0-12-12A12,12,0,0,0,128,112Zm95.62,43.83-12.36,55.63a16,16,0,0,1-25.51,9.11L158.51,200h-61L70.25,220.57a16,16,0,0,1-25.51-9.11L32.38,155.83a16.09,16.09,0,0,1,3.32-13.71l28.56-34.26a123.07,123.07,0,0,1,8.57-36.67c12.9-32.34,36-52.63,45.37-59.85a16,16,0,0,1,19.6,0c9.34,7.22,32.47,27.51,45.37,59.85a123.07,123.07,0,0,1,8.57,36.67l28.56,34.26A16.09,16.09,0,0,1,223.62,155.83ZM99.43,184h57.14c21.12-37.54,25.07-73.48,11.74-106.88C156.55,47.64,134.49,29,128,24c-6.51,5-28.57,23.64-40.33,53.12C74.36,110.52,78.31,146.46,99.43,184Zm-15,5.85Q68.28,160.5,64.83,132.16L48,152.36,60.36,208l.18-.13ZM208,152.36l-16.83-20.2q-3.42,28.28-19.56,57.69l23.85,18,.18.13Z"
                ></path>
              </svg>
            </div>
            <p class="badge-text">Performa</p>
          </div>
        </div>

        <div class="badge-float badge-5" data-reveal-delay="0.1">
          <div class="badge-inner">
            <div class="badge-icon badge-icon-5">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 256 256"
              >
                <path
                  d="M248,124a56.11,56.11,0,0,0-32-50.61V72a48,48,0,0,0-88-26.49A48,48,0,0,0,40,72v1.39a56,56,0,0,0,0,101.2V176a48,48,0,0,0,88,26.49A48,48,0,0,0,216,176v-1.41A56.09,56.09,0,0,0,248,124ZM88,208a32,32,0,0,1-31.81-28.56A55.87,55.87,0,0,0,64,180h8a8,8,0,0,0,0-16H64A40,40,0,0,1,50.67,86.27A8,8,0,0,0,56,78.73V72a32,32,0,0,1,64,0v68.26A47.8,47.8,0,0,0,88,128a8,8,0,0,0,0,16,32,32,0,0,1,0,64Zm104-44h-8a8,8,0,0,0,0,16h8a55.87,55.87,0,0,0,7.81-.56A32,32,0,1,1,168,144a8,8,0,0,0,0-16,47.8,47.8,0,0,0-32,12.26V72a32,32,0,0,1,64,0v6.73a8,8,0,0,0,5.33,7.54A40,40,0,0,1,192,164Zm16-52a8,8,0,0,1-8,8h-4a36,36,0,0,1-36-36V80a8,8,0,0,1,16,0v4a20,20,0,0,0,20,20h4A8,8,0,0,1,208,112ZM60,120H56a8,8,0,0,1,0-16h4A20,20,0,0,0,80,84V80a8,8,0,0,1,16,0v4A36,36,0,0,1,60,120Z"
                ></path>
              </svg>
            </div>
            <p class="badge-text">AI & EdTech</p>
          </div>
        </div>

        <div class="badge-float badge-6" data-reveal-delay="0.2">
          <div class="badge-inner">
            <div class="badge-icon badge-icon-6">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 256 256"
              >
                <path
                  d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0-3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"
                ></path>
              </svg>
            </div>
            <p class="badge-text">Strategi</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* component-level styles (variables moved to globals.css) */

  .intro-section {
    position: relative;
    width: 100%;
    min-height: 80vh;
    padding: 6rem 1.5rem;
    background: rgb(var(--color-bg));
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .intro-section::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      rgba(var(--color-accent), 0.03) 0%,
      transparent 50%,
      rgba(var(--color-accent), 0.05) 100%
    );
    pointer-events: none;
  }

  .intro-container {
    max-width: 1000px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
    position: relative;
    width: 100%;
  }

  .intro-label-wrapper {
    display: flex;
    align-items: center;
    gap: 1rem;
    width: 100%;
    justify-content: center;
  }

  .intro-label-line {
    width: 40px;
    height: 1px;
    background: rgb(var(--color-divider));
  }

  .intro-label {
    font-size: 1rem;
    font-weight: 400;
    color: rgb(var(--color-text-muted));
    margin: 0;
    letter-spacing: 0.02em;
  }

  .intro-label em {
    font-style: italic;
  }

  .intro-context-label {
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: rgb(var(--color-accent));
    margin-bottom: 1.5rem;
    opacity: 0.85;
  }

  .intro-heading-wrapper {
    width: 100%;
    max-width: 600px;
  }

  .intro-heading {
    font-size: clamp(1.5rem, 3.5vw, 2rem);
    font-weight: 500;
    line-height: 1.6;
    text-align: center;
    /* JANGAN set color disini! Biar .word yang handle */
    /* color: rgb(var(--color-text)); */
    margin: 0;
    letter-spacing: -0.02em;
  }

  /* REVISED: jangan pakai flex + gap di heading supaya tidak dobel spasi */
  .intro-heading[data-scroll-color-words] {
    /* default inline flow cukup; spasi asli dipertahankan oleh span.space */
  }

  /* Word-by-word: mulai abu-abu, jadi hitam saat "on" */
  .intro-heading .word {
    display: inline-block;
    white-space: pre;
    color: rgb(var(--color-text-muted)) !important; /* gray - FORCE */
    transition: color 120ms linear;
    will-change: color;
  }

  .intro-heading .word.on {
    color: rgb(var(--color-text)) !important; /* black - FORCE */
  }

  /* Accessibility: matikan transisi untuk reduced motion, tetap jalankan logic */
  @media (prefers-reduced-motion: reduce) {
    .intro-heading .word {
      transition: none;
    }
  }

  .intro-heading .space {
    display: inline-block;
    white-space: pre;
  }

  .badges-columns {
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns:
      minmax(0, var(--intro-badge-col-left)) minmax(0, var(--intro-badge-col-center))
      minmax(0, var(--intro-badge-col-right));
    align-items: center;
    gap: var(--intro-badge-gap);
    min-height: 420px;
  }

  .badges-column.left {
    grid-column: 1;
    justify-self: start;
  }
  .intro-center {
    grid-column: 2;
    align-self: center;
    justify-self: center;
  }
  .badges-column.right {
    grid-column: 3;
    justify-self: end;
  }
  .badges-column {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: var(--intro-badge-vertical-gap);
    align-items: flex-start;
    width: 100%;
    min-width: 0;
  }

  .badges-column.right {
    align-items: flex-end;
    transform: translateX(160px);
  }
  .badges-column .badge-float {
    max-width: 100%;
  }
  .badges-column .badge-inner {
    max-width: 100%;
    box-sizing: border-box;
  }

  .intro-center {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 600px;
    text-align: center;
    padding: 0 2rem;
    min-width: 0;
  }

  .badge-float {
    position: relative;
    left: auto;
    transform: none;
    pointer-events: auto;
  }

  /* Limit badge width on desktop/tablet to prevent text overflow */
  @media (min-width: 769px) {
    .badge-float {
      max-width: 190px;
    }
  }

  @media (prefers-reduced-motion: no-preference) {
    .badge-float {
      animation: float 5s ease-in-out infinite;
    }
  }

  .badge-1 {
    animation-delay: 0s;
  }
  .badge-2 {
    animation-delay: 0.4s;
  }
  .badge-3 {
    animation-delay: 0.8s;
  }
  .badge-4 {
    animation-delay: 1.2s;
  }
  .badge-5 {
    animation-delay: 1.6s;
  }
  .badge-6 {
    animation-delay: 2s;
  }

  .badge-inner {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1.5rem;
    border-radius: 147px;
    background: rgba(var(--color-surface), 0.9);
    border: 1px solid rgba(var(--color-divider), 0.5);
    box-shadow:
      0 1px 3px rgba(0, 0, 0, 0.04),
      0 4px 8px rgba(0, 0, 0, 0.02);
    backdrop-filter: blur(8px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    user-select: none;
    max-width: fit-content;
  }

  .badge-1 .badge-inner {
    transform: rotate(4deg);
  }
  .badge-2 .badge-inner {
    transform: rotate(4deg);
  }
  .badge-3 .badge-inner {
    transform: rotate(-4deg);
  }
  .badge-4 .badge-inner {
    transform: rotate(-5deg);
  }
  .badge-5 .badge-inner {
    transform: rotate(-4deg);
  }
  .badge-6 .badge-inner {
    transform: rotate(3deg);
  }

  .badge-float:hover .badge-inner {
    box-shadow:
      0 4px 12px rgba(0, 0, 0, 0.06),
      0 8px 16px rgba(0, 0, 0, 0.04);
    border-color: rgba(var(--color-divider), 0.7);
  }

  @media (prefers-reduced-motion: no-preference) {
    .badge-float:hover .badge-icon {
      transform: rotate(5deg) scale(1.05);
    }
    .badge-1:hover .badge-inner {
      transform: scale(1.05) rotate(4deg);
    }
    .badge-2:hover .badge-inner {
      transform: scale(1.05) rotate(4deg);
    }
    .badge-3:hover .badge-inner {
      transform: scale(1.05) rotate(-4deg);
    }
    .badge-4:hover .badge-inner {
      transform: scale(1.05) rotate(-5deg);
    }
    .badge-5:hover .badge-inner {
      transform: scale(1.05) rotate(-4deg);
    }
    .badge-6:hover .badge-inner {
      transform: scale(1.05) rotate(3deg);
    }
  }

  .badge-icon {
    width: 48px;
    height: 48px;
    border-radius: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.35rem;
    flex-shrink: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    filter: none;
  }

  .badge-icon-1 {
    background: linear-gradient(
      135deg,
      rgba(var(--color-accent), 0.12),
      rgba(var(--color-accent), 0.08)
    );
    border: 1px solid rgba(var(--color-accent), 0.15);
  }
  .badge-icon-1 svg {
    color: rgb(var(--color-accent));
  }
  .badge-icon-2 {
    background: linear-gradient(
      135deg,
      rgba(var(--color-success), 0.12),
      rgba(var(--color-success), 0.08)
    );
    border: 1px solid rgba(var(--color-success), 0.15);
  }
  .badge-icon-2 svg {
    color: rgb(var(--color-success));
  }
  .badge-icon-3 {
    background: linear-gradient(
      135deg,
      rgba(var(--color-accent), 0.15),
      rgba(var(--color-accent), 0.08)
    );
    border: 1px solid rgba(var(--color-accent), 0.2);
  }
  .badge-icon-3 svg {
    color: rgb(var(--color-accent));
    opacity: 0.9;
  }
  .badge-icon-4 {
    background: linear-gradient(
      135deg,
      rgba(var(--color-success), 0.15),
      rgba(var(--color-success), 0.08)
    );
    border: 1px solid rgba(var(--color-success), 0.2);
  }
  .badge-icon-4 svg {
    color: rgb(var(--color-success));
    opacity: 0.9;
  }
  .badge-icon-5 {
    background: linear-gradient(
      135deg,
      rgba(var(--color-accent), 0.1),
      rgba(var(--color-accent), 0.06)
    );
    border: 1px solid rgba(var(--color-accent), 0.18);
  }
  .badge-icon-5 svg {
    color: rgb(var(--color-accent));
    opacity: 0.85;
  }
  .badge-icon-6 {
    background: linear-gradient(
      135deg,
      rgba(var(--color-success), 0.1),
      rgba(var(--color-success), 0.06)
    );
    border: 1px solid rgba(var(--color-success), 0.18);
  }
  .badge-icon-6 svg {
    color: rgb(var(--color-success));
    opacity: 0.85;
  }

  .badge-text {
    font-family: "Inter Display", "Inter", sans-serif;
    font-size: 0.9rem;
    font-weight: 400;
    line-height: 1.5em;
    color: rgb(var(--color-text));
    white-space: nowrap;
    margin: 0;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateX(-50%) translateY(0px);
    }
    50% {
      transform: translateX(-50%) translateY(-6px);
    }
  }

  @media (max-width: 968px) {
    .badges-columns {
      min-height: auto;
      grid-template-columns: var(--intro-badge-col-left) var(--intro-badge-col-center) var(
          --intro-badge-col-right
        );
      gap: var(--intro-badge-gap);
    }
    .badges-column {
      gap: var(--intro-badge-vertical-gap);
    }

    /* Adjust badge text size for medium screens */
    .badge-text {
      font-size: 0.85rem;
    }

    .badge-inner {
      padding: 0.65rem 1.25rem;
      gap: 0.65rem;
    }
  }

  @media (max-width: 768px) {
    .intro-section {
      min-height: auto;
      padding: 4rem 1.5rem;
    }

    /* Layout mobile: teks di atas, SEMUA badges dalam grid 2 kolom di bawah */
    .badges-columns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto repeat(3, auto);
      min-height: auto;
      gap: 0.75rem;
      width: 100%;
    }

    /* Intro text muncul pertama, full width span 2 kolom */
    .intro-center {
      grid-column: 1 / -1;
      grid-row: 1;
      width: 100%;
      max-width: 100%;
      padding: 0 1rem;
      margin-bottom: 1.25rem;
    }

    /* Kolom left dan right hilang, badge langsung di grid */
    .badges-column {
      display: contents; /* Children langsung masuk ke parent grid */
      transform: none !important;
    }

    /* Setiap badge otomatis masuk ke grid cell */
    .badges-column.left .badge-float:nth-child(1) {
      grid-column: 1;
      grid-row: 2;
    }
    .badges-column.left .badge-float:nth-child(2) {
      grid-column: 2;
      grid-row: 2;
    }
    .badges-column.left .badge-float:nth-child(3) {
      grid-column: 1;
      grid-row: 3;
    }

    .badges-column.right .badge-float:nth-child(1) {
      grid-column: 2;
      grid-row: 3;
    }
    .badges-column.right .badge-float:nth-child(2) {
      grid-column: 1;
      grid-row: 4;
    }
    .badges-column.right .badge-float:nth-child(3) {
      grid-column: 2;
      grid-row: 4;
    }

    .badge-float {
      position: relative;
      left: auto;
      top: auto;
      animation: none;
      width: 100%;
      display: flex;
      justify-content: center;
    }

    /* Reset animasi slide di mobile - badge muncul dari bawah saja */
    .badges-column.left .badge-float,
    .badges-column.right .badge-float {
      transform: translateY(30px);
      opacity: 0;
    }

    .badges-column.left .badge-float.revealed,
    .badges-column.right .badge-float.revealed {
      transform: translateY(0);
      opacity: 1;
    }

    /* Badge auto width dengan padding lebih kecil dan compact */
    .badge-inner {
      width: auto;
      max-width: 100%;
      justify-content: center;
      padding: 0.4rem 0.75rem;
      gap: 0.4rem;
      box-shadow:
        0 1px 2px rgba(0, 0, 0, 0.04),
        0 2px 4px rgba(0, 0, 0, 0.02);
    }

    /* Ukuran icon jauh lebih kecil di mobile */
    .badge-icon {
      width: 32px;
      height: 32px;
      border-radius: 16px;
    }

    .badge-icon svg {
      width: 16px;
      height: 16px;
    }

    .badge-text {
      font-size: 0.75rem;
      line-height: 1.4;
    }

    /* Keep rotation transforms di mobile tapi lebih subtle */
    .badge-1 .badge-inner {
      transform: rotate(2deg) !important;
    }
    .badge-2 .badge-inner {
      transform: rotate(-2deg) !important;
    }
    .badge-3 .badge-inner {
      transform: rotate(2deg) !important;
    }
    .badge-4 .badge-inner {
      transform: rotate(-2deg) !important;
    }
    .badge-5 .badge-inner {
      transform: rotate(2deg) !important;
    }
    .badge-6 .badge-inner {
      transform: rotate(-2deg) !important;
    }

    .intro-label-line {
      width: 30px;
    }
  }

  /* Scroll reveal animation - Slide from sides */
  .badge-float {
    opacity: 0;
  }

  /* Badge dari kolom kiri: muncul dari kiri */
  .badges-column.left .badge-float {
    transform: translateX(-120px);
  }

  /* Badge dari kolom kanan: muncul dari kanan */
  .badges-column.right .badge-float {
    transform: translateX(120px);
  }

  .badge-float.revealed {
    opacity: 1;
    transform: translateX(0);
    transition:
      opacity 0.7s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.7s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @media (prefers-reduced-motion: reduce) {
    .badge-float {
      animation: none;
      opacity: 1;
      transform: none;
    }
    .badge-inner {
      transition: none;
    }
    .badge-float:hover .badge-inner {
      transform: none;
    }
    .badge-float:hover .badge-icon {
      transform: none;
    }
  }
</style>

<script>
  function initIntroAnimations() {
    const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    if (prefersReducedMotion) {
      document.querySelectorAll(".badge-float").forEach((badge) => {
        badge.classList.add("revealed");
      });
      return;
    }

    // Scroll reveal for badges with enhanced stagger
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const badge = entry.target as HTMLElement;
            const delay = parseFloat(badge.dataset.revealDelay || "0");

            // Stagger delay based on badge position
            setTimeout(() => {
              badge.classList.add("revealed");
            }, delay * 150); // 150ms stagger interval

            observer.unobserve(badge);
          }
        });
      },
      {
        threshold: 0.1, // Trigger earlier
        rootMargin: "0px 0px -50px 0px", // Start animating 50px before entering viewport
      }
    );

    document.querySelectorAll(".badge-float").forEach((badge) => observer.observe(badge));
  }

  // Word-by-word color transition (heading-based, starts when heading enters viewport)
  function initScrollColorTransition() {
    const heading = document.querySelector("[data-scroll-color-words]") as HTMLElement;
    if (!heading) return;

    // ===== Split PER KATA, buang token kosong =====
    const raw = (heading.textContent || "").trim();
    const tokens = raw.split(/(\s+)/).filter((tok) => tok.length > 0);
    const frag = document.createDocumentFragment();
    tokens.forEach((tok) => {
      const span = document.createElement("span");
      const isSpace = /^\s+$/.test(tok);
      span.textContent = tok;
      span.className = isSpace ? "space" : "word";
      frag.appendChild(span);
    });
    heading.textContent = "";
    heading.appendChild(frag);

    const words = Array.from(heading.querySelectorAll("span.word")) as HTMLElement[];
    const total = words.length;

    const clamp = (v: number, a: number, b: number) => Math.min(Math.max(v, a), b);
    const getVH = () => window.visualViewport?.height ?? window.innerHeight;

    // Parameter viewport (bisa diubah dari data-attr)
    const startRatio = parseFloat(heading.dataset.start ?? "1.0"); // top=100vh -> progress 0
    const finishRatio = parseFloat(heading.dataset.finish ?? "0.1"); // top=50vh  -> progress 1

    // Jaga urutan yang benar (kalau ada yang kebalik)
    const startPxFromVh = () => startRatio * getVH();
    const finishPxFromVh = () => finishRatio * getVH();

    // === Progress terhadap HEADING, dimulai SAAT heading masuk viewport ===
    function progressForHeading() {
      const rect = heading.getBoundingClientRect();
      const startPx = startPxFromVh(); // 1.0 * vh = bottom of viewport (baru masuk)
      const finishPx = finishPxFromVh(); // 0.5 * vh = middle of viewport (selesai)
      const rangePx = Math.max(1, startPx - finishPx); // harus positif

      // Progress calculation:
      // - Jika rect.top >= startPx (masih di bawah start point) → progress = 0 (GRAY)
      // - Jika rect.top <= finishPx (sudah di atas finish point) → progress = 1 (BLACK)
      // - Di antara startPx dan finishPx → linear interpolation

      if (rect.top >= startPx) {
        return 0; // Heading masih di bawah/belum masuk range
      } else if (rect.top <= finishPx) {
        return 1; // Heading sudah lewat finish point
      } else {
        // Linear interpolation: top turun dari startPx ke finishPx
        const raw = (startPx - rect.top) / rangePx;
        return clamp(raw, 0, 1);
      }
    }

    // Aksesibilitas: jika user prefers-reduced-motion,
    // kita tetap jalankan progress, tapi TANPA animasi (CSS di atas sudah menonaktifkan transition).
    const reduced = window.matchMedia?.("(prefers-reduced-motion: reduce)").matches;

    let ticking = false;

    const update = () => {
      ticking = false;

      const rect = heading.getBoundingClientRect();
      const vh = getVH();
      const onScreen = rect.bottom > 0 && rect.top < vh;

      if (!onScreen) {
        // Reset saat off-screen
        words.forEach((w) => {
          w.classList.remove("on");
          w.style.color = "rgb(173, 181, 194)";
        });
        return;
      }

      // Hitung progress berdasarkan posisi heading
      const p = progressForHeading();
      const count = Math.round(p * total);

      // Toggle word classes AND inline style
      const grayRGB = "rgb(173,181,194)"; // --color-text-muted dark mode
      const blackRGB = "rgb(15,17,21)"; // --color-text dark mode

      for (let i = 0; i < total; i++) {
        const shouldBeBlack = i < count;
        words[i].classList.toggle("on", shouldBeBlack);
        // Set inline style to override CSS inheritance
        words[i].style.color = shouldBeBlack ? blackRGB : grayRGB;
      }
    };

    const onScroll = () => {
      if (!ticking) {
        requestAnimationFrame(update);
        ticking = true;
      }
    };

    // Initial update untuk set state awal
    update();

    window.addEventListener("scroll", onScroll, { passive: true });
    window.addEventListener("resize", () => requestAnimationFrame(update));
    window.addEventListener("orientationchange", () => requestAnimationFrame(update));
    document.addEventListener("visibilitychange", () => {
      if (!document.hidden) update();
    });
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", () => {
      initIntroAnimations();
      initScrollColorTransition();
    });
  } else {
    initIntroAnimations();
    initScrollColorTransition();
  }
</script>
