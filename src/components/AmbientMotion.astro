---
// Ambient Motion Graphics - Subtle tech background animation
// Floating particles + dynamic grid lines for "speed & precision" feel
---

<div class="ambient-motion" aria-hidden="true">
  <!-- Floating particles -->
  <div class="particles">
    {
      Array.from({ length: 12 }).map((_, i) => (
        <div
          class="particle"
          style={`
          --delay: ${i * 0.5}s;
          --duration: ${15 + (i % 3) * 5}s;
          --x: ${Math.random() * 100}%;
          --y: ${Math.random() * 100}%;
        `}
        />
      ))
    }
  </div>

  <!-- Dynamic grid lines -->
  <div class="grid-lines">
    <svg class="grid-svg" viewBox="0 0 1000 1000" preserveAspectRatio="none">
      <!-- Horizontal lines -->
      <line x1="0" y1="200" x2="1000" y2="200" class="grid-line horizontal" style="--index: 0"
      ></line>
      <line x1="0" y1="500" x2="1000" y2="500" class="grid-line horizontal" style="--index: 1"
      ></line>
      <line x1="0" y1="800" x2="1000" y2="800" class="grid-line horizontal" style="--index: 2"
      ></line>

      <!-- Vertical lines -->
      <line x1="250" y1="0" x2="250" y2="1000" class="grid-line vertical" style="--index: 0"></line>
      <line x1="500" y1="0" x2="500" y2="1000" class="grid-line vertical" style="--index: 1"></line>
      <line x1="750" y1="0" x2="750" y2="1000" class="grid-line vertical" style="--index: 2"></line>
    </svg>
  </div>
</div>

<style>
  .ambient-motion {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    opacity: 0.6;
  }

  /* Floating Particles */
  .particles {
    position: absolute;
    inset: 0;
  }

  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: radial-gradient(circle, rgb(var(--color-accent) / 0.4), transparent);
    border-radius: 50%;
    left: var(--x);
    top: var(--y);
    animation: float var(--duration) ease-in-out infinite;
    animation-delay: var(--delay);
    filter: blur(1px);
  }

  @keyframes float {
    0%,
    100% {
      transform: translate(0, 0) scale(1);
      opacity: 0;
    }
    10% {
      opacity: 0.6;
    }
    50% {
      transform: translate(calc(var(--x) * 0.3 - 15%), calc(var(--y) * -0.4)) scale(1.5);
      opacity: 0.8;
    }
    90% {
      opacity: 0.4;
    }
  }

  /* Dynamic Grid Lines */
  .grid-lines {
    position: absolute;
    inset: 0;
  }

  .grid-svg {
    width: 100%;
    height: 100%;
  }

  .grid-line {
    stroke: rgb(var(--color-accent) / 0.08);
    stroke-width: 1;
    stroke-linecap: round;
  }

  .grid-line.horizontal {
    animation: scan-horizontal 8s ease-in-out infinite;
    animation-delay: calc(var(--index) * 2s);
  }

  .grid-line.vertical {
    animation: scan-vertical 8s ease-in-out infinite;
    animation-delay: calc(var(--index) * 2s + 1s);
  }

  @keyframes scan-horizontal {
    0%,
    100% {
      stroke-opacity: 0.1;
      stroke-width: 1;
    }
    50% {
      stroke-opacity: 0.4;
      stroke-width: 2;
      filter: drop-shadow(0 0 4px rgb(var(--color-accent) / 0.3));
    }
  }

  @keyframes scan-vertical {
    0%,
    100% {
      stroke-opacity: 0.1;
      stroke-width: 1;
    }
    50% {
      stroke-opacity: 0.4;
      stroke-width: 2;
      filter: drop-shadow(0 0 4px rgb(var(--color-accent) / 0.3));
    }
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .ambient-motion {
      opacity: 0.4;
    }

    .particle {
      width: 3px;
      height: 3px;
    }
  }

  /* Respect reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .particle,
    .grid-line {
      animation: none;
      opacity: 0.2;
    }
  }

  /* Performance optimization */
  .ambient-motion * {
    will-change: transform, opacity;
  }
</style>
