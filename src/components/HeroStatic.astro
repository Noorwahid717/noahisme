---
// Static Hero - Zero JavaScript for LCP optimization
// This is the hero content without any client-side hydration
import CTAButton from "~/components/CTAButton";
---

<div class="space-y-8">
  <p
    class="text-xs uppercase tracking-[0.4em] text-accent opacity-0 animate-fade-in"
    style="animation-delay: 0.1s"
  >
    Mohammad Noor Wahid
  </p>

  <!-- Main heading - static, no animation -->
  <h1
    class="font-heading text-4xl font-semibold tracking-tight text-text sm:text-5xl md:text-[3.25rem] md:leading-[1.1] opacity-0 animate-fade-in"
    style="animation-delay: 0.2s"
  >
    Full-Stack Web Developer — <span class="font-bold text-accent"
      >Backend & Frontend Specialist</span
    >, fokus pada efisiensi dan arsitektur bersih.
  </h1>

  <!-- Typing animation target - starts with static text -->
  <div class="min-h-[4rem] sm:min-h-[3.5rem] flex items-start">
    <p
      id="hero-subtitle"
      role="status"
      aria-live="polite"
      class="max-w-xl text-lg text-text2 opacity-0 animate-fade-in"
      style="animation-delay: 0.3s"
    >
      Saya membangun aplikasi web end-to-end — dari API hingga UI — dengan perhatian pada performa,
      aksesibilitas, dan arsitektur yang dapat diskalakan.
    </p>
  </div>

  <!-- tagline removed; typing animation moved to main title -->

  <div
    class="flex flex-wrap items-center gap-4 opacity-0 animate-fade-in"
    style="animation-delay: 0.4s"
  >
    <CTAButton client:idle href="/contact" class="hero-cta-primary">
      <span class="inline-flex items-center gap-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          viewBox="0 0 256 256"
        >
          <path
            d="M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm0,176H48V48H72v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V208Zm-96-88h40a8,8,0,0,1,0,16H112a8,8,0,0,1,0-16Zm0,48h40a8,8,0,0,1,0,16H112a8,8,0,0,1,0-16Z"
          ></path>
        </svg>
        <span>Jadwalkan diskusi</span>
      </span>
    </CTAButton>
    <CTAButton client:idle href="/projects" variant="ghost"> Lihat studi kasus </CTAButton>
  </div>

  <div
    class="flex flex-wrap gap-3 text-xs uppercase tracking-[0.3em] text-text2 opacity-0 animate-fade-in"
    style="animation-delay: 0.5s"
  >
    <span
      class="inline-flex items-center gap-2 rounded-full border border-divider/60 bg-surface/70 px-4 py-2 tracking-[0.2em] text-text2 transition-all duration-200 hover:-translate-y-1 hover:shadow-md"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        viewBox="0 0 256 256"
        class="text-success/80"
      >
        <path
          d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm49.66,85.66-58.34,56a8,8,0,0,1-11.09-.21l-26-28a8,8,0,0,1,11.94-10.66l20.38,22.48,52.74-50.58a8,8,0,1,1,11.3,11.33Z"
        ></path>
      </svg>
      3+ tahun pengalaman
    </span>
    <span
      class="inline-flex items-center gap-2 rounded-full border border-divider/60 bg-surface/70 px-4 py-2 tracking-[0.2em] text-text2 transition-all duration-200 hover:-translate-y-1 hover:shadow-md"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        viewBox="0 0 256 256"
        class="text-accent/80"
      >
        <path
          d="M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"
        ></path>
      </svg>
      Fokus aksesibilitas & integritas
    </span>
  </div>
</div>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  /* Enhanced CTA button styling */
  :global(.hero-cta-primary) {
    background: linear-gradient(135deg, rgb(37, 99, 235) 0%, rgb(29, 78, 216) 100%) !important;
    color: white !important;
    font-weight: 600 !important;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1) !important;
  }

  :global(.hero-cta-primary:hover) {
    transform: translateY(-2px) !important;
    box-shadow: 0 12px 24px -8px rgba(37, 99, 235, 0.5) !important;
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-fade-in {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }
</style>

<!-- Inline script for Typed.js - loaded after LCP -->
<script>
  // Only load Typed.js after the page is fully interactive
  if (typeof window !== "undefined") {
    // Use requestIdleCallback for non-critical animation
    const initTyped = () => {
      const element = document.getElementById("hero-subtitle");
      if (!element) return;

      // Delay import until idle
      import("typed.js").then((module) => {
        const Typed = module.default;
        // Clear static content only when Typed.js is ready to start typing
        // so the static text remains during page load and LCP.
        const el = document.getElementById("hero-subtitle");
        if (!el) return;
        el.textContent = "";
        new Typed(el, {
          strings: [
            "Saya membangun aplikasi web end-to-end — dari API hingga UI.",
            "Building scalable, maintainable web applications.",
            "Performance-minded, accessibility-first development.",
            "Fokus pada performa, aksesibilitas, dan arsitektur bersih.",
          ],
          typeSpeed: window.innerWidth < 768 ? 40 : 50,
          backSpeed: window.innerWidth < 768 ? 30 : 40,
          backDelay: 1800,
          loop: true,
          showCursor: true,
          cursorChar: "|",
        });
      });
    };

    // Use requestIdleCallback if available, otherwise setTimeout
    if ("requestIdleCallback" in window) {
      requestIdleCallback(initTyped);
    } else {
      setTimeout(initTyped, 2000);
    }
  }
</script>
